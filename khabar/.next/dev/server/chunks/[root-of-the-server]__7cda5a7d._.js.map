{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/yousrimorhak/.gemini/antigravity/scratch/veille-ia-saas/src/app/api/news/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport Parser from 'rss-parser';\n\nexport async function GET(request: Request) {\n    const { searchParams } = new URL(request.url);\n    const q = searchParams.get('q');\n\n    if (!q) {\n        return NextResponse.json({ error: 'Missing query parameter q' }, { status: 400 });\n    }\n\n    try {\n        const parser = new Parser();\n        const url = `https://news.google.com/rss/search?q=${encodeURIComponent(q)}&hl=fr&gl=FR&ceid=FR:fr`;\n        const feed = await parser.parseURL(url);\n\n        const articles = feed.items.slice(0, 5).map(item => ({\n            title: item.title,\n            link: item.link,\n            pubDate: item.pubDate,\n            source: item.creator || 'Revue de presse'\n        }));\n\n        return NextResponse.json({ articles });\n    } catch (error) {\n        console.error('RSS parse error:', error);\n        return NextResponse.json({ error: 'Failed to fetch news' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,IAAI,aAAa,GAAG,CAAC;IAE3B,IAAI,CAAC,GAAG;QACJ,OAAO,8MAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACnF;IAEA,IAAI;QACA,MAAM,SAAS,IAAI,iNAAM;QACzB,MAAM,MAAM,CAAC,qCAAqC,EAAE,mBAAmB,GAAG,uBAAuB,CAAC;QAClG,MAAM,OAAO,MAAM,OAAO,QAAQ,CAAC;QAEnC,MAAM,WAAW,KAAK,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACjD,OAAO,KAAK,KAAK;gBACjB,MAAM,KAAK,IAAI;gBACf,SAAS,KAAK,OAAO;gBACrB,QAAQ,KAAK,OAAO,IAAI;YAC5B,CAAC;QAED,OAAO,8MAAY,CAAC,IAAI,CAAC;YAAE;QAAS;IACxC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,8MAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC9E;AACJ"}}]
}