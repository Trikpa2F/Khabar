(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35783,e=>{"use strict";var t=e.i(77266),r=e.i(76634),a=e.i(23362),i=e.i(80596),s=e.i(95385),l=e.i(86860),n=e.i(86464),o=e.i(27580),c=e.i(18904);function d({params:e}){let[d,u]=(0,n.useState)(null),[p,m]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let{data:t,error:r}=await o.supabase.from("reports").select("*").eq("id",e.id).single();if(r)throw r;t&&u(t)}catch(e){console.error("Erreur de récupération:",e)}finally{m(!1)}})()},[e.id]),p)?(0,t.jsx)(r.DashboardLayout,{title:"Chargement du rapport...",children:(0,t.jsxs)("div",{style:{padding:"4rem",textAlign:"center",color:"var(--text-muted)"},children:[(0,t.jsx)(s.Loader2,{size:48,className:"animate-spin",style:{margin:"0 auto 1rem",color:"var(--primary)"}}),(0,t.jsx)("p",{children:"Récupération de l'archive..."})]})}):d?(0,t.jsx)(r.DashboardLayout,{title:`Archive du ${new Date(d.created_at).toLocaleDateString()}`,children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},className:"no-print",children:[(0,t.jsxs)(l.default,{href:"/reports",className:"btn btn-outline",children:[(0,t.jsx)(a.ArrowLeft,{size:18})," Retour"]}),(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>window.print(),children:[(0,t.jsx)(i.Printer,{size:18})," Exporter PDF"]})]}),(0,t.jsx)(c.default,{reportType:d.report_type,dateRange:{start:d.date_start,end:d.date_end},mediaArticles:d.media_articles||[],islamArticles:d.islam_articles||[],socialAnalysis:d.social_analysis||""})]})}):(0,t.jsx)(r.DashboardLayout,{title:"Rapport introuvable",children:(0,t.jsxs)("div",{className:"card",style:{padding:"3rem",textAlign:"center",color:"var(--text-muted)"},children:[(0,t.jsx)("h2",{style:{marginBottom:"1rem",color:"var(--text)"},children:"Archive introuvable"}),(0,t.jsx)("p",{style:{marginBottom:"2rem"},children:"Ce rapport n'existe pas ou a été supprimé."}),(0,t.jsxs)(l.default,{href:"/reports",className:"btn btn-primary",children:[(0,t.jsx)(a.ArrowLeft,{size:18})," Retour aux archives"]})]})})}e.s(["default",()=>d])}]);